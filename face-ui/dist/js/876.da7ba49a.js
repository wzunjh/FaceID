"use strict";(self["webpackChunkface_id"]=self["webpackChunkface_id"]||[]).push([[876],{8876:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var r=function(){var t=this,e=t._self._c;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{header:"API日志列表"}},[e("el-form",{attrs:{inline:!0}},[e("el-form-item",{attrs:{label:"请求时间"}},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchApi.timeArray,callback:function(e){t.$set(t.searchApi,"timeArray",e)},expression:"searchApi.timeArray"}})],1),e("el-form-item",[e("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.getApiLogList}},[t._v("搜索")])],1)],1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-card",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableApiData}},[e("el-table-column",{attrs:{prop:"fid",label:"用户编号",sortable:""}}),e("el-table-column",{attrs:{prop:"apiTime",label:"请求时间",sortable:""}}),e("el-table-column",{attrs:{prop:"apiMsg",label:"响应结果"}}),e("el-table-column",{attrs:{prop:"apiCode",label:"响应状态",formatter:t.statusFormatter}})],1)],1)],1)],1),e("el-row",{staticClass:"page-row"},[e("el-pagination",{staticClass:"el-pagination",attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,30,50],"current-page":t.current,"page-size":t.size,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[];const s={name:"ApiLogIndex",data:function(){return{fid:localStorage.getItem("user_id"),size:5,current:1,total:0,searchApi:{timeArray:[]},tableApiData:[]}},created:function(){this.getApiLogList()},methods:{handleSizeChange:function(t){this.size=t,this.getApiLogList()},handleCurrentChange:function(t){this.current=t,this.getApiLogList()},getApiLogList:function(){var t=this;this.$http.get("/face/log/".concat(this.fid),{params:{current:this.current,size:this.size,startTime:this.searchApi.timeArray[0],endTime:this.searchApi.timeArray[1]}}).then((function(e){t.tableApiData=e.data.data.records,t.size=e.data.data.size,t.current=e.data.data.current,t.total=e.data.data.total}))},statusFormatter:function(t,e,a){return 200===a?"请求成功:200":"请求错误"}}},l=s;var n=a(1001),o=(0,n.Z)(l,r,i,!1,null,null,null);const c=o.exports}}]);
//# sourceMappingURL=876.da7ba49a.js.map
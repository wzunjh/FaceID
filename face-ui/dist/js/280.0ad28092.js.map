{"version":3,"file":"js/280.0ad28092.js","mappings":"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","sources":["webpack://face-id/./src/components/OAUTH/index.vue","webpack://face-id/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://face-id/./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://face-id/src/components/OAUTH/index.vue","webpack://face-id/./src/components/OAUTH/index.vue?ecb1","webpack://face-id/./src/components/OAUTH/index.vue?f391","webpack://face-id/./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',{attrs:{\"header\":\"授权应用列表\"}},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"应用名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"名称\",\"clearable\":\"\"},model:{value:(_vm.searchParams.name),callback:function ($$v) {_vm.$set(_vm.searchParams, \"name\", $$v)},expression:\"searchParams.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属用户ID\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户ID\",\"clearable\":\"\"},model:{value:(_vm.searchParams.fid),callback:function ($$v) {_vm.$set(_vm.searchParams, \"fid\", $$v)},expression:\"searchParams.fid\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getAppList}},[_vm._v(\"搜索\")]),(_vm.isUserAuthenticated)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openOtpOauthPage}},[_vm._v(\"统一身份信息授权登录中心\")]):_vm._e(),(_vm.isUserAuthenticated)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openOtpYyPage}},[_vm._v(\"第三方网站授权登录演示\")]):_vm._e()],1)],1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',[_c('el-header',{staticStyle:{\"background-color\":\"#ffffff\"}},[(_vm.isUserAuthenticated)?_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){return _vm.handleSave()}}},[_vm._v(\"添加应用\")]):_vm._e()],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"clientId\",\"label\":\"客户端ID\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"clientSecret\",\"label\":\"客户端密钥\"}}),_c('el-table-column',{attrs:{\"prop\":\"webServerRedirectUrl\",\"label\":\"回调URL\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"应用名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"fid\",\"label\":\"所属用户ID\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isUserAuthenticated)?_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),(_vm.isUserAuthenticated)?_c('el-popconfirm',{attrs:{\"title\":'确认删除' + scope.row.name + '应用吗?'},on:{\"confirm\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1):_vm._e()]}}])})],1)],1)],1)],1),_c('el-row',{staticClass:\"page-row\"},[_c('el-pagination',{staticClass:\"el-pagination\",attrs:{\"layout\":\"total, sizes, prev, pager, next, jumper\",\"page-sizes\":[5, 10, 30, 50],\"current-page\":_vm.current,\"page-size\":_vm.size,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.saveAndUpdateTitle,\"visible\":_vm.saveAndUpdateDialog,\"before-close\":_vm.handleClose,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.saveAndUpdateDialog=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.appObj,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.appObj.clientId),expression:\"appObj.clientId\"}],attrs:{\"type\":\"hidden\"},domProps:{\"value\":(_vm.appObj.clientId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.appObj, \"clientId\", $event.target.value)}}}),_c('el-form-item',{attrs:{\"label\":\"应用名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"必填项\"},model:{value:(_vm.appObj.name),callback:function ($$v) {_vm.$set(_vm.appObj, \"name\", $$v)},expression:\"appObj.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"回调URL\",\"prop\":\"webServerRedirectUrl\"}},[_c('el-input',{attrs:{\"placeholder\":\"必填项\"},model:{value:(_vm.appObj.webServerRedirectUrl),callback:function ($$v) {_vm.$set(_vm.appObj, \"webServerRedirectUrl\", $$v)},expression:\"appObj.webServerRedirectUrl\"}})],1),_c('el-form-group',[(_vm.isSuperUser)?_c('el-form-item',{attrs:{\"label\":\"所属用户ID\",\"prop\":\"fid\"}},[_c('el-input',{attrs:{\"placeholder\":\"必填项\"},model:{value:(_vm.appObj.fid),callback:function ($$v) {_vm.$set(_vm.appObj, \"fid\", $$v)},expression:\"appObj.fid\"}})],1):_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"hidden\",\"value\":_vm.appObj.fid = _vm.currentUserFid}})],1)],1),_c('el-form-item',[(_vm.isUserAuthenticated)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"立即保存\")]):_vm._e(),(_vm.isUserAuthenticated)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card header=\"授权应用列表\">\r\n          <el-form :inline=\"true\">\r\n            <el-form-item label=\"应用名称\">\r\n              <el-input v-model=\"searchParams.name\" placeholder=\"名称\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属用户ID\">\r\n              <el-input v-model=\"searchParams.fid\" placeholder=\"用户ID\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button icon=\"el-icon-search\" @click=\"getAppList\">搜索</el-button>\r\n              <el-button v-if=\"isUserAuthenticated\" type=\"primary\" @click=\"openOtpOauthPage\">统一身份信息授权登录中心</el-button>\r\n              <el-button v-if=\"isUserAuthenticated\" type=\"primary\" @click=\"openOtpYyPage\">第三方网站授权登录演示</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <el-header style=\"background-color: #ffffff\">\r\n            <el-button v-if=\"isUserAuthenticated\" @click=\"handleSave()\" icon=\"el-icon-circle-plus-outline\">添加应用</el-button>\r\n          </el-header>\r\n          <el-table :data=\"tableData\" style=\"width: 100%\">\r\n            <el-table-column prop=\"clientId\" label=\"客户端ID\" sortable></el-table-column>\r\n            <el-table-column prop=\"clientSecret\" label=\"客户端密钥\"></el-table-column>\r\n            <el-table-column prop=\"webServerRedirectUrl\" label=\"回调URL\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"应用名称\"></el-table-column>\r\n            <el-table-column prop=\"fid\" label=\"所属用户ID\" sortable></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"230\">\r\n              <template v-slot:default=\"scope\">\r\n                <el-button v-if=\"isUserAuthenticated\" icon=\"el-icon-edit\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                <el-popconfirm v-if=\"isUserAuthenticated\" :title=\"'确认删除' + scope.row.name + '应用吗?'\" @confirm=\"handleDelete(scope.$index, scope.row)\">\r\n                  <el-button style=\"margin-left: 20px\" icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" slot=\"reference\">删除</el-button>\r\n                </el-popconfirm>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-row class=\"page-row\">\r\n      <el-pagination class=\"el-pagination\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" layout=\"total, sizes, prev, pager, next, jumper\" :page-sizes=\"[5, 10, 30, 50]\" :current-page=\"current\" :page-size=\"size\" :total=\"total\"></el-pagination>\r\n    </el-row>\r\n\r\n    <el-dialog :title=\"saveAndUpdateTitle\" :visible.sync=\"saveAndUpdateDialog\" :before-close=\"handleClose\" width=\"600px\">\r\n      <el-form :model=\"appObj\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\">\r\n        <input type=\"hidden\" v-model=\"appObj.clientId\"></input>\r\n        <el-form-item label=\"应用名称\" prop=\"name\">\r\n          <el-input placeholder=\"必填项\" v-model=\"appObj.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"回调URL\" prop=\"webServerRedirectUrl\">\r\n          <el-input placeholder=\"必填项\" v-model=\"appObj.webServerRedirectUrl\"></el-input>\r\n        </el-form-item>\r\n        <el-form-group>\r\n          <el-form-item v-if=\"isSuperUser\" label=\"所属用户ID\" prop=\"fid\">\r\n            <el-input placeholder=\"必填项\" v-model=\"appObj.fid\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item v-else>\r\n            <el-input type=\"hidden\" :value=\"appObj.fid = currentUserFid\"></el-input>\r\n          </el-form-item>\r\n        </el-form-group>\r\n        <el-form-item>\r\n          <el-button v-if=\"isUserAuthenticated\" type=\"primary\" @click=\"submitForm('ruleForm')\">立即保存</el-button>\r\n          <el-button v-if=\"isUserAuthenticated\" @click=\"resetForm('ruleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    const validateWebServerRedirectUrl = (rule, value, callback) => {\r\n      const urlRegex = /^(http|https):\\/\\//;\r\n      if (!urlRegex.test(value)) {\r\n        callback(new Error('请输入以 http:// 或 https:// 开头的合法重定向URL'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      size: 5,\r\n      current: 1,\r\n      total: 0,\r\n      searchParams: {\r\n        name: '',\r\n        fid: ''\r\n      },\r\n      tableData: [],\r\n      saveAndUpdateDialog: false,\r\n      saveAndUpdateTitle: '',\r\n      appObj: {\r\n        clientId: null,\r\n        clientName: '',\r\n        clientSecret: '',\r\n        webServerRedirectUrl: '',\r\n        name: '',\r\n        fid: null\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入应用名称', trigger: 'blur' },\r\n          { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\r\n        ],\r\n        webServerRedirectUrl: [\r\n          { required: true, message: '请输入重定向URL', trigger: 'blur' },\r\n          { validator: validateWebServerRedirectUrl, trigger: 'blur' }\r\n        ],\r\n        fid: [\r\n          { required: true, message: '请输入所属用户ID', trigger: 'blur' }\r\n        ]\r\n      },\r\n      currentUserFid: null,\r\n      isUserAuthenticated: false\r\n    }\r\n  },\r\n  computed: {\r\n    isSuperUser() {\r\n      return this.currentUserFid === 1;\r\n    }\r\n  },\r\n  created() {\r\n    this.currentUserFid = parseInt(localStorage.getItem(\"user_id\"));\r\n    this.checkUserAuthentication();\r\n  },\r\n  methods: {\r\n    checkUserAuthentication() {\r\n      this.$http.get('/face/orAuth/' + this.currentUserFid).then(res => {\r\n        if (res.data.code === 200) {\r\n          this.isUserAuthenticated = true;\r\n          this.getAppList();\r\n        } else {\r\n          this.isUserAuthenticated = false;\r\n          res.data.msg(\"未认证用户,无权进行此操作\")\r\n          this.$message.warning(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    getAppList() {\r\n      let params = {\r\n        current: this.current,\r\n        size: this.size,\r\n        fid: this.searchParams.fid,\r\n        name: this.searchParams.name\r\n      };\r\n      this.$http.get('/oau/List', { params }).then(res => {\r\n        let records = res.data.data.records;\r\n        // 如果 currentUserFid 不是 1，过滤数据\r\n        if (this.currentUserFid !== 1) {\r\n          records = records.filter(record => record.fid === this.currentUserFid);\r\n        }\r\n        this.total = records.length;\r\n        this.tableData = records;\r\n        this.size = res.data.data.size;\r\n        this.current = res.data.data.current;\r\n      });\r\n    },\r\n    handleSizeChange(val) {\r\n      this.size = val\r\n      this.getAppList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.current = val\r\n      this.getAppList()\r\n    },\r\n    handleClose() {\r\n      this.saveAndUpdateDialog = false\r\n      this.resetForm('ruleForm')\r\n    },\r\n    handleSave() {\r\n      // 先检查用户认证状态\r\n      this.checkUserAuthentication();\r\n      if (this.isUserAuthenticated) {\r\n        this.addAndUpdateState = true\r\n        this.saveAndUpdateDialog = true\r\n        this.saveAndUpdateTitle = '添加应用'\r\n      }\r\n    },\r\n    handleEdit(index, row) {\r\n      // 先检查用户认证状态\r\n      this.checkUserAuthentication();\r\n      if (this.isUserAuthenticated) {\r\n        this.addAndUpdateState = false\r\n        this.saveAndUpdateDialog = true\r\n        this.saveAndUpdateTitle = '修改应用'\r\n        this.appObj = { ...row }\r\n      }\r\n    },\r\n    handleDelete(index, row) {\r\n      // 先检查用户认证状态\r\n      this.checkUserAuthentication();\r\n      if (this.isUserAuthenticated) {\r\n        this.$http.get(\"/oau/Delete?clientId=\" + row.clientId).then(res => {\r\n          this.getAppList();\r\n          this.$message.success(res.data.msg)\r\n        })\r\n      }\r\n    },\r\n    submitForm(formName) {\r\n      // 先检查用户认证状态\r\n      this.checkUserAuthentication();\r\n      if (this.isUserAuthenticated) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if (!this.isSuperUser) {\r\n              this.appObj.fid = this.currentUserFid;\r\n            }\r\n            if (this.addAndUpdateState) {\r\n              // 添加应用\r\n              this.$http.post(\"/oau/save\", this.appObj).then(res => {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.msg,\r\n                  type: 'success',\r\n                  duration: 3000\r\n                })\r\n                this.getAppList()\r\n                this.saveAndUpdateDialog = false\r\n              })\r\n            } else {\r\n              // 修改应用\r\n              this.$http.post(\"/oau/update\", this.appObj).then(res => {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: res.data.msg,\r\n                  type: 'success',\r\n                  duration: 3000\r\n                })\r\n                this.getAppList()\r\n                this.saveAndUpdateDialog = false\r\n              })\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    openOtpOauthPage() {\r\n      window.open('http://localhost:8080/otpaouth', '_blank');\r\n    },\r\n    openOtpYyPage() {\r\n      window.open('http://localhost:8080/otpyy', '_blank');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import \"../face/index.css\";\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9d8ca71a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9d8ca71a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n"],"names":["render","_vm","this","_c","_self","attrs","model","value","searchParams","name","callback","$$v","$set","expression","fid","on","getAppList","_v","isUserAuthenticated","openOtpOauthPage","_e","openOtpYyPage","staticStyle","$event","handleSave","tableData","scopedSlots","_u","key","fn","scope","handleEdit","$index","row","handleDelete","slot","staticClass","current","size","total","handleSizeChange","handleCurrentChange","saveAndUpdateTitle","saveAndUpdateDialog","handleClose","ref","appObj","rules","directives","rawName","clientId","domProps","target","composing","webServerRedirectUrl","isSuperUser","currentUserFid","submitForm","resetForm","staticRenderFns","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","data","clientName","clientSecret","required","message","trigger","min","max","validator","computed","created","methods","checkUserAuthentication","res","params","records","val","index","formName","showClose","type","duration","window","component","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","result","undefined"],"sourceRoot":""}